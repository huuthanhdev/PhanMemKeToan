<script>
    // Lấy tham chiếu đến các trường input
    var customerIdInput = document.getElementById('customerId');
    var customerNameInput = document.getElementById('customerName');
  
    // Thêm sự kiện input cho trường customerId
    customerIdInput.addEventListener('input', function() {
      var customerId = this.value;
  
      // Tạo đối tượng XMLHttpRequest
      var xhr = new XMLHttpRequest();
  
      // Thiết lập callback function để xử lý phản hồi từ server
      xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
          // Parse dữ liệu phản hồi từ server
          var response = JSON.parse(xhr.responseText);
  
          // Lấy tên khách hàng từ dữ liệu phản hồi
          var customerName = response.customerName;
  
          // Hiển thị tên khách hàng trong trường customerName
          customerNameInput.value = customerName;
        }
      };
  
      // Gửi yêu cầu AJAX đến server
      xhr.open('POST', '/getCustomerName', true);
      xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
      xhr.send('customerId=' + customerId);
    });




    function select_KH(){
  document.getElementById('customerId').addEventListener('input', function() {
    var customerId = this.value;
    var customerNameInput = document.getElementById('customerName');
    
    // Tìm customerName từ mảng bill dựa trên customerId
    var customer = bill.find(function(item) {
      return item.MaKH === customerId;
    });

    // Nếu tìm thấy customer, hiển thị customerName tương ứng
    if (customer) {
      customerNameInput.value = customer.TenKH;
    } else {
      customerNameInput.value = '';
    }
  });

}
  </script>

  